(this.webpackJsonpgpustats=this.webpackJsonpgpustats||[]).push([[0],{234:function(e,t,r){},236:function(e,t,r){},237:function(e,t,r){},375:function(e,t,r){},376:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(68),s=r.n(c),i=(r(234),r(25)),o=r.n(i),l=r(92),d=r(16),u=(r(236),r(237),r(2));function _(){return Object(u.jsx)("div",{className:"loader",children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"cube",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})})})}var f=r(22),j=r(64),O=r(386),m=r(200),b=r(12),E=n.a.createContext();function h(e){var t=e.id,r=e.items,a=e.currentItem,c=e.currentIndex,s=e.onSelect;return Object(u.jsx)(n.a.Fragment,{children:r.map((function(e,r){var n="item-".concat(t,"-").concat(r),i=e===a||r===c;return Object(u.jsxs)("div",{className:"radio",children:[Object(u.jsx)("input",{type:"radio",name:t,id:n,value:e,checked:i,onClick:function(){return s(e,r)},onChange:function(e){return e}}),Object(u.jsx)("label",{htmlFor:n,children:e})]},n)}))})}function x(e){var t,r=new Set,a=Object(b.a)(e.categories);try{for(a.s();!(t=a.n()).done;)for(var n=t.value,c=0,s=Object.keys(n.api);c<s.length;c++){var i=s[c];r.add(i)}}catch(o){a.e(o)}finally{a.f()}return Object(f.a)(r.keys())}function v(e){var t=Object(a.useContext)(E),r=t.data,n=t.setAPIName,c=t.apiName;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"heading",children:"API"}),Object(u.jsx)("div",{children:Object(u.jsx)(h,{id:"apis",items:x(r),onSelect:n,currentItem:c})})]})}var p=r(379),N=r(380),S=r(384),T=r(198),g=r(199),M=r(77),A=r(202);function R(e){var t=e.color;return Object(u.jsx)("svg",{style:{width:"1em",height:"1em"},viewBox:"0 0 40 40",children:Object(u.jsx)("circle",{cx:"20",cy:"20",r:"20",fill:t})})}var X=function(e){return"".concat((100*e).toFixed(0),"%")},I=function(e){return function(t){var r=t.payload;if(!r)return[];var a=r.reduce((function(e,t){return e+t.value}),0);return Object(u.jsx)("div",{className:"tooltip-content legend",children:r.reverse().map((function(t,r){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"color",children:Object(u.jsx)(R,{color:t.color})},"item1-".concat(r)),Object(u.jsx)("div",{className:"value",children:t.name},"item2-".concat(r)),Object(u.jsx)("div",{className:"percent",children:e(t.value,a)},"item3-".concat(r))]})}))})}},w=I((function(e,t){return X(t>0?e/t:0)})),B=I((function(e){return"".concat((100*e).toFixed(0),"%")}));function y(e){var t=e.data,r=e.colors,a=e.percentOfTotal,n=t.length?Object.keys(t[0]).filter((function(e){return"month"!==e})):[],c=t[t.length-1],s=n.reduce((function(e,t){return e+c[t]}),0);return Object(u.jsx)("div",{className:"legend",children:n.reverse().map((function(e,t,n){var i=a?c[e]/s*100:100*c[e];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"color",children:Object(u.jsx)(R,{color:r(n.length-t-1)})},"l1-".concat(t)),Object(u.jsx)("div",{className:"value",children:e},"l2-".concat(t)),Object(u.jsxs)("div",{className:"percent",children:[i.toFixed(0),"%"]},"l3-".concat(t))]})}))})}var F=function(e,t){return Math.sign(parseFloat(t)-parseFloat(e))};function L(e){var t,r=Object(a.useContext)(E),n=r.apiName,c=r.colors,s=r.data,i=r.extensionName,o=r.featureName,l=r.filter,_=r.showFeature,j=!(o||i),O=j?function(e,t,r){var a=[],n=[];return e.categories.filter(r).forEach((function(e){e.count.forEach((function(e,t){a[t]=(a[t]||0)+e}));var r=e.api[t];r&&r.availability.forEach((function(e,t){n[t]=(n[t]||0)+e}))})),n.map((function(e,t){return Object.fromEntries([["month",t],["api",e/a[t]]])}))}(s,n,l):_?function(e,t,r,a){var n=new Map;e.categories.filter(a).forEach((function(e){var a=e.api[t];if(a){var c=a.features[r];if(c)for(var s=function(){var e=Object(d.a)(o[i],2),t=e[0],r=e[1],a=n.get(t)||[];n.set(t,a),r.forEach((function(e,t){a[t]=(a[t]||0)+e}))},i=0,o=Object.entries(c);i<o.length;i++)s()}}));var c=Object(f.a)(n.keys());if(!c.length)return[];for(var s=c.sort(F),i=n.get(c[0]).length,o=[],l=function(e){var t=Object.fromEntries([["month",e]].concat(Object(f.a)(s.map((function(t){return[t,n.get(t)[e]]})))));o.push(t)},u=0;u<i;++u)l(u);return o}(s,n,o,l):function(e,t,r,a){var n=[],c=[];return e.categories.filter(a).forEach((function(e){e.count.forEach((function(e,t){n[t]=(n[t]||0)+e}));var a=e.api[t];if(a){var s=a.extensions[r];s&&s.forEach((function(e,t){c[t]=(c[t]||0)+e}))}})),c.map((function(e,t){return Object.fromEntries([["month",t],["ext",e/n[t]]])}))}(s,n,i,l),m=O.length?Object.keys(O[0]).filter((function(e){return"month"!==e})):[],b=j?"none":_?"expand":"none",h="expand"===b;return Object(u.jsxs)("div",{className:"chart-holder",children:[Object(u.jsx)("div",{className:"chart-heading",children:"".concat(n).concat(j?"":": ".concat(_?o:i))}),Object(u.jsxs)("div",{className:"chart",children:[Object(u.jsx)("div",{className:"graph-area",children:Object(u.jsx)(p.a,{children:Object(u.jsxs)(N.a,{data:O,stackOffset:b,margin:{top:0,right:20,left:0,bottom:0},children:[Object(u.jsx)(S.a,{strokeDasharray:"3 3"}),Object(u.jsx)(T.a,{dataKey:"month",tickFormatter:(t=5,function(e){return new Date(2e3,(e+t)%12).toLocaleString("default",{month:"short"})}),tick:{fill:"var(--main-fg-color)"}}),Object(u.jsx)(g.a,{tickFormatter:X,tick:{fill:"var(--main-fg-color)"},domain:h?[0,"dataMax"]:[0,1]}),Object(u.jsx)(M.a,{content:h?w:B,animationDuration:0}),m.map((function(e,t){var r=c(t);return Object(u.jsx)(A.a,{type:"monotoneX",dataKey:e,stackId:"1",stroke:r,fillOpacity:1,fill:r},"c".concat(t))}))]})})}),Object(u.jsx)("div",{class:"legend-area",children:Object(u.jsx)(y,{data:O,colors:c,percentOfTotal:h})})]})]})}function U(e){var t,r=new Set,a=Object(b.a)(e.categories);try{for(a.s();!(t=a.n()).done;){var n=t.value.platform;r.add(n)}}catch(c){a.e(c)}finally{a.f()}return Object(f.a)(r.keys())}function C(e){var t,r=new Set,a=Object(b.a)(e.categories);try{for(a.s();!(t=a.n()).done;){var n=t.value.browser;r.add(n)}}catch(c){a.e(c)}finally{a.f()}return Object(f.a)(r.keys())}function G(e,t){var r,a=new Set,n=Object(b.a)(e.categories);try{for(n.s();!(r=n.n()).done;){var c=r.value.api[t];if(c)for(var s=0,i=Object.keys(c.extensions);s<i.length;s++){var o=i[s];a.add(o)}}}catch(l){n.e(l)}finally{n.f()}return Object(f.a)(a.keys())}function P(e){var t=Object(a.useContext)(E),r=t.data,n=t.apiName,c=t.extensionName,s=t.setExtensionName;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"heading",children:"Extensions"}),Object(u.jsx)("div",{children:Object(u.jsx)(h,{id:"extensions",items:G(r,n),onSelect:s,currentItem:c})})]})}function k(e){var t=e.id,r=e.items,a=e.selectedItems,c=e.onSelect;return Object(u.jsx)(n.a.Fragment,{children:r.map((function(e,r){var n="item-".concat(t,"-").concat(r),s=a.has(e);return Object(u.jsxs)("div",{className:"radio",children:[Object(u.jsx)("input",{type:"checkbox",name:t,id:n,value:e,checked:s,onChange:function(t){return c(e)}}),Object(u.jsx)("label",{htmlFor:n,children:e})]},n)}))})}function D(e){var t=Object(a.useContext)(E),r=t.data,c=t.selectedPlatforms,s=t.selectedBrowsers,i=t.setPlatformFilter,o=t.setBrowserFilter,l=U(r),d=C(r);return Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)("div",{className:"heading",children:"Filters"}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"indent",children:[Object(u.jsx)("div",{className:"subheading",children:"Platform"}),Object(u.jsx)(k,{id:"platforms",items:l,selectedItems:c,onSelect:i})]}),Object(u.jsxs)("div",{className:"indent",children:[Object(u.jsx)("div",{className:"subheading",children:"Browsers"}),Object(u.jsx)(k,{id:"browsers",items:d,selectedItems:s,onSelect:o})]})]})]})}function W(e,t){var r,a=new Set,n=Object(b.a)(e.categories);try{for(n.s();!(r=n.n()).done;){var c=r.value.api[t];if(c)for(var s=0,i=Object.keys(c.features);s<i.length;s++){var o=i[s];a.add(o)}}}catch(l){n.e(l)}finally{n.f()}return Object(f.a)(a.keys())}function V(e){var t=Object(a.useContext)(E),r=t.data,n=t.apiName,c=t.featureName,s=t.setFeatureName;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"heading",children:"Features"}),Object(u.jsx)("div",{children:Object(u.jsx)(h,{id:"features",items:W(r,n),onSelect:s,currentItem:c})})]})}var K=function(e){return m.a(e%10/10).replace("rgb","rgba").replace(")",",0.8)")};function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=e.split(",").filter((function(e){return t.includes(e)}));return new Set(r.length?r:t)}function z(e){var t=e.data,r=Object.fromEntries(new URLSearchParams(window.location.search).entries()),n=Object(a.useState)(r.api||"webgl"),c=Object(d.a)(n,2),s=c[0],i=c[1],o=Object(a.useState)(r.featureName||""),l=Object(d.a)(o,2),_=l[0],m=l[1],b=Object(a.useState)(r.extensionName||""),h=Object(d.a)(b,2),x=h[0],p=h[1],N=Object(a.useState)(r.data||""),S=Object(d.a)(N,2),T=S[0],g=S[1],M=U(t),A=C(t),R=Object(a.useState)(!0),X=Object(d.a)(R,2),I=X[0],w=X[1],B=Object(O.a)(Z(r.platforms,M)),y=Object(d.a)(B,2),F=y[0],G=y[1],k=Object(O.a)(Z(r.browsers,A)),W=Object(d.a)(k,2),z=W[0],H=W[1],J=function(){var e=Object.fromEntries(new URLSearchParams(window.location.search).entries());g(e.data||""),i(e.api||"webgl"),m(e.featureName||""),p(e.extensionName||""),G.reset(),(e.platforms||M.join(",")).split(",").forEach((function(e){return G.add(e)})),H.reset(),(e.browsers||A.join(",")).split(",").forEach((function(e){return H.add(e)}))};Object(a.useEffect)((function(){var e=Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({},T&&{data:T}),{},{api:s},I&&_&&{featureName:_}),I&&x&&{extensionName:x}),F.size!==M.length&&{features:Object(f.a)(F).join(",")}),z.size!==A.length&&{browsers:Object(f.a)(z).join(",")}),t=new URLSearchParams(e),r=new URL(window.location.href);r.search=t.toString(),r.href!==window.location.href&&(console.log("pushState:",r.href,window.location.href),window.history.pushState({},"",r.href))})),Object(a.useEffect)((function(){return window.addEventListener("popstate",J),function(){return window.removeEventListener("popstate",J)}}));return Object(u.jsx)(E.Provider,{value:{data:t,apiName:s,featureName:I?_:"",extensionName:I?"":x,showFeature:I,setAPIName:i,setFeatureName:function(e){m(I&&e===_?"":e),w(!0)},setExtensionName:function(e){p(I||e!==x?e:""),w(!1)},selectedBrowsers:z,selectedPlatforms:F,setPlatformFilter:function(e){G.toggle(e)},setBrowserFilter:function(e){H.toggle(e)},colors:K,filter:function(e){return z.has(e.browser)&&F.has(e.platform)}},children:Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)("div",{className:"left layout-scrollbar",children:Object(u.jsxs)("div",{className:"menu",children:[Object(u.jsx)(v,{}),Object(u.jsx)(D,{}),Object(u.jsx)(V,{}),Object(u.jsx)(P,{})]})}),Object(u.jsx)("div",{className:"right layout-scrollbar",children:Object(u.jsx)("div",{className:"charts",children:Object(u.jsx)(L,{})})})]})})}var H=["firefox","chrome","safari","other"];function J(e,t){return void 0===t&&(t=e,e=0),Math.random()*(t-e)+e|0}function Y(e){for(var t=[],r=0;r<e;++r)t.push(J(0,400));return t}function q(){for(var e={},t=J(2,4),r=0;r<t;++r)e[Math.pow(2,J(16)).toString()]=Y(12);return e}for(var $=[],Q=0,ee=["windows10","mac","android","ios","linux","other"];Q<ee.length;Q++){var te,re=ee[Q],ae=Object(b.a)(H);try{for(ae.s();!(te=ae.n()).done;){var ne={platform:re,browser:te.value,count:Y(12).map((function(e){return e+400})),api:{webgl:{availability:Y(12),features:Object.fromEntries(["ALIASED_LINE_WIDTH_RANGE","ALIASED_POINT_SIZE_RANGE","MAX_TEXTURE_SIZE","MAX_VIEWPORT_DIMS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_UNIFORM_VECTORS","MAX_VARYING_VECTORS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_IMAGE_UNITS","MAX_FRAGMENT_UNIFORM_VECTORS","MAX_CUBE_MAP_TEXTURE_SIZE","MAX_RENDERBUFFER_SIZE"].map((function(e){return[e,q()]}))),extensions:Object.fromEntries(["ANGLE_instanced_arrays","EXT_blend_minmax","EXT_disjoint_timer_query","EXT_frag_depth","EXT_float_blend","EXT_shader_texture_lod","EXT_sRGB","EXT_texture_compression_bptc","EXT_texture_compression_rgtc","EXT_texture_filter_anisotropic","KHR_parallel_shader_compile","OES_element_index_uint","OES_fbo_render_mipmap","OES_standard_derivatives","OES_texture_float","OES_texture_float_linear","OES_texture_half_float","OES_texture_half_float_linear","OES_vertex_array_object","WEBGL_color_buffer_float","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_depth_texture","WEBGL_draw_buffers","WEBGL_lose_context","WEBGL_multi_draw"].map((function(e){return[e,Y(12)]})))},webgl2:{availability:Y(12),features:Object.fromEntries(["MAX_TEXTURE_SIZE","MAX_VIEWPORT_DIMS","MAX_VERTEX_ATTRIBS","MAX_VERTEX_UNIFORM_VECTORS","MAX_VARYING_VECTORS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_IMAGE_UNITS","MAX_FRAGMENT_UNIFORM_VECTORS","MAX_CUBE_MAP_TEXTURE_SIZE","MAX_RENDERBUFFER_SIZE","MAX_3D_TEXTURE_SIZE","MAX_COLOR_ATTACHMENTS","MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS","MAX_COMBINED_UNIFORM_BLOCKS","MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS","MAX_DRAW_BUFFERS","MAX_ELEMENT_INDEX","MAX_ELEMENTS_INDICES","MAX_ELEMENTS_VERTICES","MAX_FRAGMENT_INPUT_COMPONENTS","MAX_FRAGMENT_UNIFORM_BLOCKS","MAX_FRAGMENT_UNIFORM_COMPONENTS","MAX_FRAGMENT_UNIFORM_VECTORS","MAX_PROGRAM_TEXEL_OFFSET","MAX_SERVER_WAIT_TIMEOUT","MAX_TEXTURE_LOD_BIAS","MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS","MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS","MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS","MAX_UNIFORM_BLOCK_SIZE","MAX_UNIFORM_BUFFER_BINDINGS","MAX_VARYING_COMPONENTS","MAX_VERTEX_OUTPUT_COMPONENTS","MAX_VERTEX_UNIFORM_BLOCKS","MAX_VERTEX_UNIFORM_COMPONENTS","MIN_PROGRAM_TEXEL_OFFSET"].map((function(e){return[e,q()]}))),extensions:Object.fromEntries(["EXT_sRGB","EXT_texture_compression_bptc","EXT_texture_compression_rgtc","KHR_parallel_shader_compile","OES_texture_float_linear","OES_texture_half_float_linear","WEBGL_compressed_texture_astc","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_etc1","WEBGL_compressed_texture_pvrtc","WEBGL_compressed_texture_s3tc","WEBGL_compressed_texture_s3tc_srgb","WEBGL_debug_renderer_info","WEBGL_debug_shaders","WEBGL_lose_context"].map((function(e){return[e,Y(12)]})))},webgpu:{availability:Y(12),features:Object.fromEntries(["maxTextureDimension1D","maxTextureDimension2D","maxTextureDimension3D","maxTextureArrayLayers","maxBindGroups","maxDynamicUniformBuffersPerPipelineLayout","maxDynamicStorageBuffersPerPipelineLayout","maxSampledTexturesPerShaderStage","maxSamplersPerShaderStage","maxStorageBuffersPerShaderStage","maxStorageTexturesPerShaderStage","maxUniformBuffersPerShaderStage","maxUniformBufferBindingSize","maxStorageBufferBindingSize","maxVertexBuffers","maxVertexAttributes","maxVertexBufferArrayStride"].map((function(e){return[e,q()]}))),extensions:Object.fromEntries(["shader-float16","texture-compression-bc","depth-clamping"].map((function(e){return[e,Y(12)]})))}}};$.push(ne)}}catch(fe){ae.e(fe)}finally{ae.f()}}var ce={startMonth:1,categories:$};console.log(JSON.stringify(ce));var se=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function ie(){return oe.apply(this,arguments)}function oe(){return(oe=Object(l.a)(o.a.mark((function e(){var t,r,a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("test"!==(t=Object.fromEntries(new URLSearchParams(window.location.search).entries())).data){e.next=5;break}n="test-data.json",e.next=16;break;case 5:if("error"!==t.data){e.next=9;break}n="not-exist-data.json",e.next=16;break;case 9:if("sample"!==t.data){e.next=15;break}return e.next=12,se(1e3);case 12:a=ce,e.next=16;break;case 15:t.data?r="unknown data parameter: ".concat(t.data):n="data.json";case 16:if(r||a){e.next=29;break}return e.prev=17,e.next=20,fetch(n);case 20:return c=e.sent,e.next=23,c.json();case 23:a=e.sent,e.next=29;break;case 26:e.prev=26,e.t0=e.catch(17),r="".concat(n,": ").concat(e.t0);case 29:return e.abrupt("return",{data:a,error:r});case 30:case"end":return e.stop()}}),e,null,[[17,26]])})))).apply(this,arguments)}function le(e){var t=e.msg;return Object(u.jsx)("div",{className:"error",children:Object(u.jsxs)("div",{children:[t," \ud83d\ude22"]})})}function de(e){var t=Object(a.useState)(!1),r=Object(d.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),f=i[0],j=i[1],O=Object.fromEntries(new URLSearchParams(window.location.search).entries());return Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:t=e.sent,r=t.data,a=t.error,c(r),j(a);case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{className:"header",children:[Object(u.jsxs)("div",{children:["gpustats.org"," ",O.data?Object(u.jsx)("span",{className:"fake",children:"(Warning: Using fake data!)"}):[]]}),Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:"https://github.com/gfxfundamentals/gpustats.org",children:Object(u.jsx)("img",{className:"icon",alt:"github icon",src:"resources/images/octocat-icon.svg"})})})]}),f?Object(u.jsx)(le,{msg:"could not fetch data: ".concat(f)}):n?Object(u.jsx)(z,{data:n}):Object(u.jsx)(_,{}),O.data?[]:Object(u.jsx)("div",{className:"rsn",children:Object(u.jsxs)("div",{children:["This site is not ready. No data is available yet."," ",Object(u.jsx)("a",{href:"?data=sample",children:"Click here"})," ","to view with fake data."]})})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(375);var ue=document.createElement("div");ue.setAttribute("style","width:30px;height:30px;"),ue.classList.add("scrollbar-test");var _e=document.createElement("div");_e.setAttribute("style","width:100%;height:40px"),ue.appendChild(_e),document.body.appendChild(ue),30-ue.firstChild.clientWidth&&document.body.classList.add("layout-scrollbar-obtrusive"),document.body.removeChild(ue),s.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(de,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[376,1,2]]]);
//# sourceMappingURL=main.f4dcf802.chunk.js.map